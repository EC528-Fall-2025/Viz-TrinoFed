import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as d}from"./index-DpTt3J-R.js";import{b as j,a as w}from"./fixtures-BzLkDzPP.js";const h=({events:t,plan:i})=>{const[s,g]=d.useState(!1),[r,y]=d.useState(!1),b=o=>new Date(o).toLocaleTimeString();return e.jsxs("div",{style:{position:"absolute",bottom:10,right:10,zIndex:10,backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",maxWidth:"400px",maxHeight:"500px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #dee2e6",display:"flex",gap:"8px"},children:[e.jsxs("button",{onClick:()=>y(!r),style:{padding:"6px 12px",backgroundColor:r?"#228be6":"#e9ecef",color:r?"white":"#495057",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:["Events (",t.length,")"]}),i&&e.jsx("button",{onClick:()=>g(!s),style:{padding:"6px 12px",backgroundColor:s?"#228be6":"#e9ecef",color:s?"white":"#495057",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Plan"})]}),r&&e.jsx("div",{style:{padding:"12px",overflowY:"auto",maxHeight:"400px",fontSize:"12px"},children:t.map((o,l)=>e.jsxs("div",{style:{marginBottom:"12px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"6px",borderLeft:`4px solid ${o.state==="FINISHED"?"#51cf66":o.state==="FAILED"?"#ff6b6b":o.state==="RUNNING"?"#ffd43b":"#74c0fc"}`},children:[e.jsxs("div",{style:{fontWeight:"bold",marginBottom:"4px",color:"#212529"},children:[o.eventType," - ",o.state]}),e.jsx("div",{style:{fontSize:"11px",color:"#6c757d"},children:b(o.timestamp)}),o.cpuTimeMs&&e.jsxs("div",{style:{marginTop:"6px",fontSize:"11px"},children:[e.jsx("span",{style:{color:"#495057"},children:"CPU: "}),e.jsxs("span",{style:{fontWeight:"bold"},children:[o.cpuTimeMs,"ms"]})]}),o.totalRows&&e.jsxs("div",{style:{fontSize:"11px"},children:[e.jsx("span",{style:{color:"#495057"},children:"Rows: "}),e.jsx("span",{style:{fontWeight:"bold"},children:o.totalRows.toLocaleString()})]}),o.peakMemoryBytes&&e.jsxs("div",{style:{fontSize:"11px"},children:[e.jsx("span",{style:{color:"#495057"},children:"Memory: "}),e.jsxs("span",{style:{fontWeight:"bold"},children:[(o.peakMemoryBytes/1024/1024).toFixed(2)," MB"]})]})]},l))}),s&&i&&e.jsx("div",{style:{padding:"12px",overflowY:"auto",maxHeight:"400px",fontSize:"10px",fontFamily:"monospace",backgroundColor:"#f8f9fa",whiteSpace:"pre-wrap",lineHeight:"1.4"},children:i})]})};h.__docgenInfo={description:"",methods:[],displayName:"QueryPlanPanel",props:{events:{required:!0,tsType:{name:"Array",elements:[{name:"QueryEvent"}],raw:"QueryEvent[]"},description:""},plan:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}};const P={title:"Components/QueryPlanPanel",component:h,decorators:[t=>e.jsx("div",{style:{position:"relative",width:"100%",minHeight:"600px",backgroundColor:"#f8f9fa",padding:"2rem"},children:e.jsx(t,{})})],args:{events:w.events,plan:j}},n={},a={args:{plan:void 0}};var p,c,x;n.parameters={...n.parameters,docs:{...(p=n.parameters)==null?void 0:p.docs,source:{originalSource:"{}",...(x=(c=n.parameters)==null?void 0:c.docs)==null?void 0:x.source}}};var m,f,u;a.parameters={...a.parameters,docs:{...(m=a.parameters)==null?void 0:m.docs,source:{originalSource:`{
  args: {
    plan: undefined
  }
}`,...(u=(f=a.parameters)==null?void 0:f.docs)==null?void 0:u.source}}};const k=["Default","EventsOnly"];export{n as Default,a as EventsOnly,k as __namedExportsOrder,P as default};
